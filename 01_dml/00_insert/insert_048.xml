<?xml version="1.0" encoding="GB2312" ?>
<!--
	修改记录列表
	序号		修改类型		修改内容		修改人		修改日期
	  1		  创建		创建文件，并完成测试点		黄海明		645-6-22							
-->
<!--
	测试点列表
	1.值插入
	2.查询插入
	3.插入不满足表中条件的数据
	4.不带WITH CHECK OPTION插入不满足条件的数据
	5.带WITH CHECK OPTION 插入不满足条件的数据 		
-->
<SQLTEST>
	<CONTENT>视图数据的更新：插入</CONTENT><!-- 请在这里加入对脚本的简要描述 -->
	<CONNECT>0</CONNECT><!-- 连接数据库 -->
	<TestPointBegin>测试点1：值插入 开始 </TestPointBegin>
	<SQL_CASE>
		 <SQL>CREATE TABLE T01_DDL_00420(C1 INT,C2 CHAR(10));</SQL>
		 <SQL>CREATE VIEW V01_DDL_00420 AS SELECT * FROM T01_DDL_00420;</SQL>
		 <SQL>INSERT INTO V01_DDL_00420 VALUES(123,&apos;OK&apos;);</SQL>
		 <TYPE> DIRECT_EXECUTE_SELECT_COMPARE_RESULT </TYPE><!-- 预期执行成功，并返回一个结果集，只验证给定值的长度 -->
		 <SQL>SELECT * FROM T01_DDL_00420;</SQL>
		 <RESULT>
		 	<RECORD>
		 		<COLUMN>123</COLUMN><COLUMN>OK        </COLUMN>
		 	</RECORD>
		 </RESULT>
	</SQL_CASE>
	

	<TestPointBegin>测试点2：查询插入 开始 </TestPointBegin>
	<SQL_CASE>
		<SQL>CREATE TABLE T02_DDL_00420(C1 INT,C2 CHAR(10));</SQL>
		<SQL>CREATE TABLE T03_DDL_00420(C1 INT,C2 CHAR(10));</SQL>
		<SQL>INSERT INTO T03_DDL_00420 VALUES(123,&apos;OK&apos;);</SQL>
		<SQL>CREATE VIEW V02_DDL_00420 AS SELECT * FROM T02_DDL_00420;</SQL>
		<SQL>INSERT INTO V02_DDL_00420 SELECT * FROM T03_DDL_00420;</SQL>
		<TYPE> DIRECT_EXECUTE_SELECT_COMPARE_RESULT </TYPE><!-- 预期执行成功，并返回一个结果集，只验证给定值的长度 -->
		<SQL>SELECT * FROM T02_DDL_00420;</SQL>
		 <RESULT>
		 	<RECORD>
		 		<COLUMN>123</COLUMN><COLUMN>OK        </COLUMN>
		 	</RECORD>
		 </RESULT>
	</SQL_CASE>
	

	<TestPointBegin>测试点3：插入不满足表中条件的数据 开始 </TestPointBegin>
	<SQL_CASE>
		<SQL>CREATE TABLE T04_DDL_00420(C1 INT,C2 CHAR(10),CHECK(C1&lt;10));</SQL>
		<SQL>CREATE VIEW V03_DDL_00420 AS SELECT * FROM T04_DDL_00420;</SQL>
		<SQL>INSERT INTO V03_DDL_00420 VALUES(9,&apos;OK&apos;);</SQL>
		<TYPE> DIRECT_EXECUTE_FAIL </TYPE><!-- 预期执行失败 -->
		<SQL>INSERT INTO V03_DDL_00420 VALUES(10,&apos;OK&apos;);</SQL>
	</SQL_CASE>
	

	<TestPointBegin>测试点4：不带WITH CHECK OPTION插入不满足条件的数据 开始 </TestPointBegin>
	<SQL_CASE>
		<SQL>CREATE TABLE T05_DDL_00420(C1 INT,C2 CHAR(10));</SQL>
		<SQL>CREATE VIEW V04_DDL_00420 AS SELECT * FROM T05_DDL_00420 WHERE C1&gt;10;</SQL>
		<SQL>INSERT INTO V04_DDL_00420 VALUES(11,&apos;OK&apos;);</SQL>
		<SQL>INSERT INTO V04_DDL_00420 VALUES(10,&apos;OK&apos;);</SQL>
		<SQL>INSERT INTO V04_DDL_00420 VALUES(9,&apos;OK&apos;);</SQL>
	</SQL_CASE>
	

	<TestPointBegin>测试点5：带WITH CHECK OPTION 插入不满足条件的数据 开始 </TestPointBegin>
	<SQL_CASE>
		<SQL>CREATE TABLE T06_DDL_00420(C1 INT,C2 CHAR(10));</SQL>
		<SQL>CREATE VIEW V05_DDL_00420 AS SELECT * FROM T06_DDL_00420 WHERE C1&gt;10 WITH CHECK OPTION;</SQL>
		<SQL>INSERT INTO V05_DDL_00420 VALUES(11,&apos;OK&apos;);</SQL>
		<TYPE> DIRECT_EXECUTE_FAIL </TYPE><!-- 预期执行失败 -->
		<SQL>INSERT INTO V05_DDL_00420 VALUES(10,&apos;OK&apos;);</SQL>
		<SQL>INSERT INTO V05_DDL_00420 VALUES(9,&apos;OK&apos;);</SQL>
	</SQL_CASE>
	

	<CLEAR><!-- 脚本清除模块，该关键字标识清除块开始 -->
		<SQL_CASE>
			<SQL>DROP TABLE T01_DDL_00420 CASCADE;</SQL>
			<SQL>DROP TABLE T02_DDL_00420 CASCADE;</SQL>
			<SQL>DROP TABLE T03_DDL_00420;</SQL>
			<SQL>DROP TABLE T04_DDL_00420 CASCADE;</SQL>
			<SQL>DROP TABLE T05_DDL_00420 CASCADE;</SQL>
			<SQL>DROP TABLE T06_DDL_00420 CASCADE;</SQL>
			<SQL>DROP view V01_DDL_00420 CASCADE;</SQL>
			<SQL>DROP view V02_DDL_00420 CASCADE;</SQL>
			<SQL>DROP view V03_DDL_00420 CASCADE;</SQL>
			<SQL>DROP view V04_DDL_00420 CASCADE;</SQL>
			<SQL>DROP view V05_DDL_00420 CASCADE;</SQL>
			<SQL>DROP view V06_DDL_00420 CASCADE;</SQL>
		</SQL_CASE>
	</CLEAR>
</SQLTEST> 