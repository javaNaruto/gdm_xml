<?xml version="1.0" encoding="GB2312" ?>
<!--
	修改记录列表
	序号		修改类型		修改内容		修改人		修改日期
	 1		  创建	     创建文件，并完成测试点		黄海明		645-6-22								
   2		  修改	     修改文件，并完成测试点		刘静	  	11-12-08	-->
<!--
	测试点列表
	1.全部修改
	2.部分修改
	3.被引用的数据不能修改		
-->
<SQLTEST>
	<CONTENT>视图数据的更新：修改</CONTENT><!-- 请在这里加入对脚本的简要描述 -->
	<CONNECT>0</CONNECT><!-- 连接数据库 -->
	<TestPointBegin>测试点1：全部修改 开始 </TestPointBegin>
	<SQL_CASE>
		<SQL>CREATE TABLE T01_DDL_00440(C1 INT,C2 FLOAT);</SQL>
		<SQL>INSERT INTO T01_DDL_00440 VALUES(10,11.3);</SQL>
		<SQL>INSERT INTO T01_DDL_00440 VALUES(20,12.3);</SQL>
		<SQL>INSERT INTO T01_DDL_00440 VALUES(30,13.3);</SQL>
		<SQL>CREATE VIEW V01_DDL_00440 AS SELECT C1 FROM T01_DDL_00440;</SQL>
		<SQL>UPDATE V01_DDL_00440 SET C1=C1+10;</SQL>
		<TYPE> DIRECT_EXECUTE_SELECT_COMPARE_RESULT </TYPE><!-- 预期执行成功，并返回一个结果集，只验证给定值的长度 -->
		<SQL>SELECT * FROM T01_DDL_00440;</SQL>
		<RESULT>
			<RECORD>
				<COLUMN>20</COLUMN><COLUMN>11.3</COLUMN>
			</RECORD>
			<RECORD>
				<COLUMN>30</COLUMN><COLUMN>12.3</COLUMN>
			</RECORD>
			<RECORD>
				<COLUMN>40</COLUMN><COLUMN>13.3</COLUMN>
			</RECORD>
		</RESULT>
	</SQL_CASE>
	<!-- - - - - - - - - - - - 测试点1：结束 - - - - - - - - - - - -->
	<TestPointBegin>测试点2：部分修改 开始 </TestPointBegin>
	<SQL_CASE>
		<SQL>CREATE TABLE T02_DDL_00440(C1 INT,C2 FLOAT);</SQL>
		<SQL>INSERT INTO T02_DDL_00440 VALUES(10,11.3);</SQL>
		<SQL>INSERT INTO T02_DDL_00440 VALUES(20,12.3);</SQL>
		<SQL>INSERT INTO T02_DDL_00440 VALUES(30,13.3);</SQL>
		<SQL>CREATE VIEW V02_DDL_00440 AS SELECT C1 FROM T02_DDL_00440;</SQL>
		<SQL>UPDATE V02_DDL_00440 SET C1=C1+10 WHERE C1&lt;15;</SQL>
		<TYPE> DIRECT_EXECUTE_SELECT_COMPARE_RESULT </TYPE><!-- 预期执行成功，并返回一个结果集，只验证给定值的长度 -->
		<SQL>SELECT * FROM T02_DDL_00440;</SQL>
		<RESULT>
			<RECORD>
				<COLUMN>20</COLUMN><COLUMN>11.3</COLUMN>
			</RECORD>
			<RECORD>
				<COLUMN>20</COLUMN><COLUMN>12.3</COLUMN>
			</RECORD>
			<RECORD>
				<COLUMN>30</COLUMN><COLUMN>13.3</COLUMN>
			</RECORD>
		</RESULT>
	</SQL_CASE>
	<!-- - - - - - - - - - - - 测试点2：结束 - - - - - - - - - - - -->
	<TestPointBegin>测试点3：开始 </TestPointBegin>
	<SQL_CASE>
		<SQL>CREATE TABLE T03_DDL_00440(C1 INT NOT NULL,C2 FLOAT NOT NULL,PRIMARY KEY(C1));</SQL>
		<SQL>INSERT INTO T03_DDL_00440 VALUES(1,12.4)</SQL>
		<SQL>INSERT INTO T03_DDL_00440 VALUES(2,23.5)</SQL>
		<SQL>INSERT INTO T03_DDL_00440 VALUES(3,54.7)</SQL>
		<SQL>CREATE TABLE T04_DDL_00440(C1 INT,C2 FLOAT,FOREIGN KEY(C1) REFERENCES T03_DDL_00440(C1));</SQL>
		<SQL>INSERT INTO T04_DDL_00440 VALUES(1,45.5)</SQL>
		<SQL>CREATE VIEW V03_DDL_00440 AS SELECT C1 FROM T03_DDL_00440;</SQL>
		<SQL>UPDATE V03_DDL_00440 SET C1=C1+10 WHERE C1=3;</SQL>
		<TYPE> DIRECT_EXECUTE_FAIL </TYPE><!-- 预期执行失败 -->
		<SQL>UPDATE V03_DDL_00440 SET C1=C1+10 WHERE C1=1;</SQL>
	</SQL_CASE>
	<!-- - - - - - - - - - - - 测试点3：结束 - - - - - - - - - - - -->
	<CLEAR><!-- 脚本清除模块，该关键字标识清除块开始 -->
		<SQL_CASE>
			<SQL>DROP TABLE T01_DDL_00440 CASCADE;</SQL>
			<SQL>DROP TABLE T02_DDL_00440 CASCADE;</SQL>
			<SQL>DROP TABLE T03_DDL_00440 CASCADE;</SQL>
			<SQL>DROP TABLE T04_DDL_00440;</SQL>
			<SQL>DROP view T01_DDL_00440;</SQL>
			<SQL>DROP view T02_DDL_00440;</SQL>
						<SQL>DROP view T03_DDL_00440;</SQL>
									<SQL>DROP view T04_DDL_00440;</SQL>
		</SQL_CASE>
	</CLEAR>
</SQLTEST> 
